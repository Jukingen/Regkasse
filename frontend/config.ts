import { Platform } from 'react-native';

// Platform-aware API URL configuration
const getApiBaseUrl = () => {
  // √ñnce environment variable kontrol et
  if (process.env.EXPO_PUBLIC_API_URL) {
    console.log('üåê Using API URL from env:', process.env.EXPO_PUBLIC_API_URL);
    return process.env.EXPO_PUBLIC_API_URL;
  }

  // Platform-based fallback
  if (Platform.OS === 'ios') {
    // iOS Simulator i√ßin local machine IP kullan
    const iosApiUrl = 'http://192.168.1.2:5183/api'; // User'ƒ±n ger√ßek IP adresi
    console.log('üçé iOS platform detected, using:', iosApiUrl);
    return iosApiUrl;
  } else if (Platform.OS === 'android') {
    // Android Emulator i√ßin 10.0.2.2 kullan
    const androidApiUrl = 'http://10.0.2.2:5183/api';
    console.log('ü§ñ Android platform detected, using:', androidApiUrl);
    return androidApiUrl;
  } else {
    // Web i√ßin localhost:5183 (backend API port'u)
    const webApiUrl = 'http://localhost:5183/api';
    console.log('üåê Web platform detected, using:', webApiUrl);
    return webApiUrl;
  }
};

export const API_BASE_URL = getApiBaseUrl();

console.log('üîß Final API_BASE_URL:', API_BASE_URL);

// Diƒüer ortam deƒüi≈ükenleri
// export const ANOTHER_CONFIG = process.env.EXPO_PUBLIC_ANOTHER_CONFIG || 'default'; 